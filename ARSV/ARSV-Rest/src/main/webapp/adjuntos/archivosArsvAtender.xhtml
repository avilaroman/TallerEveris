<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">
                
    
        <p:panel id="panelArchivos" >
	        <h3>Adjuntos</h3>      
	        	<h:panelGrid columns="2" style="vertical-align: top;"> 	 
	        		<h:panelGrid id="panelAdjuntos" style="vertical-align: top; width:200px;">    	
				    	<p:fileUpload fileUploadListener="#{solicitudArsvController.handleFileUploadAtender}"  
				    		onstart="BUIDownload.show()" oncomplete="BUIDownload.hide()"
				    		update="listaDocs, panelAdjuntos" fileLimit="1"
					        mode="advanced" multiple="false" auto="true" label="Adjuntar Archivo"  
					        style="vertical-align:top;"
					        /> 						
					</h:panelGrid>	    
					   
					<h:panelGrid columns="1" id ="listaDocs">
						<p:dataTable id="tabla"  value="#{solicitudArsvController.documentosNuevos}" var="doc" style="width:400px;">
						 	<p:column headerText="Archivos" style="width:80%">
						 		<p:outputLabel value="#{doc.descripcionDocumento}"></p:outputLabel>
						 	</p:column>
						 	<p:column headerText=" " style="width:10%">
						 		<p:commandButton id="eliminar" icon="ui-icon-closethick" actionListener="#{solicitudArsvController.eliminarAdjuntoAtender(doc.idDocumento)}" update="tabla"  
								 immediate="true" onstart="BUIDownload.show()" oncomplete="BUIDownload.hide()"/>
						 	</p:column>
						 	<p:column headerText=" " style="width:10%">
						 		<p:commandButton id="descargar" icon="ui-icon-disk" ajax="false" immediate="true" actionListener="#{solicitudArsvController.obtenerArchivoAtender(doc.idDocumento)}">  
									<p:fileDownload value="#{solicitudArsvController.downloadFile}" />
								</p:commandButton>
						 	</p:column>
						</p:dataTable>
					</h:panelGrid>
				</h:panelGrid>				
		</p:panel>
		<p:blockUI widgetVar="BUIDownload" block="panelArchivos" >
 				Procesando..
		</p:blockUI>		
</ui:composition>
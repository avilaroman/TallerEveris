<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui"
   template="/WEB-INF/templates/default.xhtml">


   <f:metadata>
		<f:viewParam name="solicitudId" value="#{solicitudExtController.solicitudId}" />		
		<f:viewParam name="idTask" value="#{solicitudExtController.idTask}" />
		<f:viewParam name="token" value="#{solicitudExtController.token}" />		
		<f:event listener="#{solicitudExtController.obtenerSolicitudExt}" type="preRenderView"/>
	</f:metadata>
	<ui:define name="content">
		<h:form id="atenderSolicitudAeronavegabilidad" acceptcharset="utf-8">
			<p:panel header="ATENDER SOLICITUD AERONAVEGABILIDAD" style="width:880px;float: left;">
				<p:messages id="messages" globalOnly="true" showDetail="true" autoUpdate="true" closable="true" />
			  	<p:fieldset legend="Solicitud en Atencion">
					<h:panelGrid columns="6" width="800">
						<h:panelGroup>						
							<p:outputLabel value="Numero Solicitud"/>
						</h:panelGroup>
						<h:panelGroup>							
							<p:inputText id="numeroSolicitud" value="#{solicitudExtController.solicitudExt.solicitud.id}" disabled="true"/>
						</h:panelGroup>
						<h:panelGroup>						
							<p:outputLabel value="Estado Solicitud"/>
						</h:panelGroup>
						<h:panelGroup>							
							<p:inputText id="estadoSolicitud" value="#{solicitudExtController.solicitudExt.solicitud.arsvEstadoSolicitud.descripcion}" disabled="true"/>
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel value="Fecha Solicitud"/>
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="FechaSolicitud" value="#{solicitudExtController.solicitudExt.solicitud.fechaCreacion}" disabled="true">
								<f:convertDateTime pattern="dd/MM/yyyy"/>
							</p:inputText>
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<br/>
				<p:fieldset legend="Datos del Operador / Data Operator">
					<h:panelGrid columns="2" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.nombreEmpresa']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.nombreEmpresa']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="nombreEmpresaExt"
								value="#{solicitudExtController.solicitudExt.solicitud.nombreEmpresa}"
								maxlength="50" size="50" disabled="true"/>
							<br />
							<p:message for="nombreEmpresaExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.direccion']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.direccion']}"
								style="color:gre0y" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="direccionExt"
								value="#{solicitudExtController.solicitudExt.solicitud.direccion}"
								maxlength="50" size="50" disabled="true"/>
							<br />
							<p:message for="direccionExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.direccionFacturacion']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.direccionFacturacion']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="direccionFacturacionExt"
								value="#{solicitudExtController.solicitudExt.solicitud.direccionFacturacion}"
								maxlength="50" size="50" disabled="true"/>
							<br />
							<p:message for="direccionFacturacionExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.razonSocial']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.razonSocial']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="razonSocialExt" value="#{solicitudExtController.solicitudExt.solicitud.razonSocial}"
							maxlength="50" size="50" disabled="true"/>
							<br />
							<p:message for="razonSocialExt" />
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<br />
				<p:fieldset legend="Datos Aeronaves / Aircraft Data">
					<h:panelGrid columns="4" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.matriculaAeronave']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.matriculaAeronave']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="matriculaAeronaveExt" value="#{solicitudExtController.solicitudExt.solicitud.aeronave.matricula}"
							maxlength="50" size="25" disabled="true"/>
							<br />
							<p:message for="matriculaAeronaveExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.nacionalidad']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.nacionalidad']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="arsvPaisOrigenExt"
								value="#{solicitudExtController.solicitudExt.solicitud.paisOrigen.descripcion}"
								maxlength="50" size="25" disabled="true"/>
							<br />
							<p:message for="arsvPaisOrigenExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.tipoAeronave']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.tipoAeronave']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="arsvTipoAeronaveExt"
								value="#{solicitudExtController.solicitudExt.solicitud.aeronave.tipo}" maxlength="50"
								size="25" disabled="true"/>
							<br />
							<p:message for="arsvTipoAeronaveExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.MTOW']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.MTOW']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="MTOWExt"
								value="#{solicitudExtController.solicitudExt.solicitud.MTOW}"
								maxlength="50" size="25" disabled="true">
								<f:validateRegex pattern="[0-9]*" />
							</p:inputText>
							<br />
							<p:message for="MTOWExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.nombrePiloto']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.nombrePiloto']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="nombrePilotoExt"
								value="#{solicitudExtController.solicitudExt.solicitud.nombrePiloto}"
								maxlength="50" size="25" disabled="true"/>
							<br />
							<p:message for="nombrePilotoExt" />
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<br />
				<p:fieldset legend="Datos Vuelo / Flight Data">
					<h:panelGrid columns="4" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.objetoVuelo']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.objetoVuelo']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="objetoVueloExt"
								value="#{solicitudExtController.solicitudExt.solicitud.objetoVuelo.descripcion}"
								maxlength="50" size="25" disabled="true"/>
							<br />
							<p:message for="objetoVueloExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.clasificacionVuelo']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.clasificacionVuelo']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="arsvClasificacionExt"
								value="#{solicitudExtController.solicitudExt.solicitud.clasificacion.descripcion}"
								maxlength="50" size="25" disabled="true"/>
							<br />
							<p:message for="arsvClasificacionExt" />
						</h:panelGroup>
					</h:panelGrid>
					<br />
					<p:fieldset legend="Fecha / Date">
						<h:panelGrid columns="2">
							<h:panelGroup>
								<p:outputLabel
									value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.arriboTerritorioNacional']}" />
								<br />
								<p:outputLabel
									value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.arriboTerritorioNacional']}"
									style="color:grey" />
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText id="arriboTerritorioNacionalExt"
									value="#{solicitudExtController.solicitudExt.solicitud.fechaArribo}"
									pattern="dd/mm/yyyy" disabled="true"/>
								<p:message for="arriboTerritorioNacionalExt" />
							</h:panelGroup>
							<h:panelGroup>
								<p:outputLabel
									value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.salidaTerritorioNacional']}" />
								<br />
								<p:outputLabel
									value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.salidaTerritorioNacional']}"
									style="color:grey" />
							</h:panelGroup>
							<h:panelGroup>
								<p:inputText id="salidaTerritorioNacionalExt"
									value="#{solicitudExtController.solicitudExt.solicitud.fechaSalida}"
									pattern="dd/mm/yyyy" disabled="true"/>
								<p:message for="salidaTerritorioNacionalExt" />
							</h:panelGroup>
						</h:panelGrid>
					</p:fieldset>
					<br />
					<h:panelGrid columns="2" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.observacion']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.observacion']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputTextarea id="observacionExt"
								value="#{solicitudExtController.solicitudExt.solicitud.observaciones}"
								maxlength="2000" size="2000"
								style="height : 150px; width : 600px;"/>
							<p:message for="observacionExt" />
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<br />
				<p:fieldset legend="Datos a Ingresar" >
					<h:panelGrid columns="4" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.validezSeguro']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.validezSeguro']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="validezSeguroExt"
								value="#{solicitudExtController.solicitudExt.solicitud.vigenciaSeguro}"
								pattern="dd/mm/yyyy" size="25" disabled="true" />
							<p:message for="validezSeguroExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.extPerm.diasExtension']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.diasExtension']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="diasExtPerm"
								value="#{solicitudExtController.solicitudExt.cantidadDias}"
								maxlength="50" size="25" disabled="true"/>
							<br />
							<p:message for="diasExtPerm" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.arriboSobrevuelo.correoElectronico']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.arriboSobrevuelo.correoElectronico']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="correoElectronicoExt"
								value="#{solicitudExtController.solicitudExt.solicitud.correoElectronicoOperador}"
								maxlength="50" size="25" disabled="true"/>
							<p:message for="correoElectronicoExt" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="Cantidad de dias a aprobar" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.diasExtension']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:spinner id="diasAprobarExtPerm"
								value="#{solicitudExtController.solicitudExt.cantidadDiasOtorgados}"
								maxlength="50" size="23" required="true" requiredMessage="debe asignar cantidad de dias" min="0" />
							<br />
							<p:message for="diasAprobarExtPerm" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.extPerm.motivoExtension']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.motivoExtension']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
						<p:inputText id="motivoExt"
								value="#{solicitudExtController.solicitudExt.arsvMotivoExtension.descripcion}"
								maxlength="50" size="25" disabled="true"/>
						<p:message for="motivoExt" />
						</h:panelGroup>
					</h:panelGrid>
					<br/>
					<h:panelGrid columns="2" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.extPerm.detalle']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.detalle']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputTextarea id="detalleExt"
								value="#{solicitudExtController.solicitudExt.motivo}"
								maxlength="2000" size="2000"
								style="height : 150px; width : 750px;"/>
							<p:message for="detalleExt" />
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<center>		
				<h:panelGrid columns="3" width="800">				
					<p:commandButton id="aprobar" value="Aprobar" onclick="confirmation.show()" ajax="true" style="width:250px;"/>
					<p:commandButton id="rechazar" value="Rechazar"  onclick="confirmation2.show()" ajax="true" style="width:250px;"/>
					<p:commandButton id="salir" value="Salir" onclick="window.close();" style="width:250px;"/>
				</h:panelGrid>		
				</center>
				
				<p:confirmDialog id="confirmDialog" header="Aprobar" widgetVar="confirmation" message="Sr. Usuario: Desea aprobar la solicitud?" > 
	               	<p:outputPanel id="display"> 
	               		<h:panelGroup> 
			        		<p:commandButton id="confirma" value="Confirmar" oncomplete="confirmation.hide(); window.close()" action="#{solicitudExtController.aprobarExtAero()}"/>  
			        		<p:commandButton id="cancela" value="Cancelar" onclick="confirmation.hide()" type="button" />
	               		</h:panelGroup> 
	                </p:outputPanel>  
	    		</p:confirmDialog> 		
	    		<p:confirmDialog id="confirmDialog2" header="Rechazar" widgetVar="confirmation2" message="Sr. Usuario: Desea rechazar la solicitud?" > 
	               	<p:outputPanel id="display2"> 
	               		<h:panelGroup> 
			        		<p:commandButton id="confirma2" value="Confirmar" oncomplete="confirmation2.hide(); window.close()" action="#{solicitudExtController.cerrarSolicitudExt()}" />  
			        		<p:commandButton id="cancela2" value="Cancelar" onclick="confirmation2.hide()" type="button" />
	               		</h:panelGroup> 
	                </p:outputPanel>  
	    		</p:confirmDialog> 			
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>
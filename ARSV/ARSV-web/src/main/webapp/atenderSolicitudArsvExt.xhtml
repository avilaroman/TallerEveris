<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui"
   template="/WEB-INF/templates/default.xhtml">

	<f:metadata>	
		<f:viewParam name="solicitudId" value="#{solicitudExtController.solicitudId}" />		
		<f:viewParam name="idTask" value="#{solicitudExtController.idTask}" />
		<f:viewParam name="token" value="#{solicitudExtController.token}" />
		<f:event listener="#{solicitudExtController.obtenerSolicitudArsvExt()}" type="preRenderView"/>
	</f:metadata>

	<ui:define name="content">
		<h:form id="atenderSolicitudExtension" acceptcharset="utf-8">
			<p:panel header="ATENDER SOLICITUD EXTENSION DE PERMANENCIA" style="width:880px;float: left;">
				<p:messages id="messages" globalOnly="true" showDetail="true" autoUpdate="true" closable="true" />
			  	<p:fieldset legend="Solicitud en Atencion">
					<h:panelGrid columns="6" width="800">
						<h:panelGroup>						
							<p:outputLabel value="Numero Solicitud"/>
						</h:panelGroup>
						<h:panelGroup>							
							<p:inputText id="numeroSolicitud" value="#{solicitudExtController.solicitudArriboSobrevuelo.id}" readonly="true"/>
						</h:panelGroup>
						<h:panelGroup>						
							<p:outputLabel value="Estado Solicitud"/>
						</h:panelGroup>
						<h:panelGroup>							
							<p:inputText id="estadoSolicitud" value="#{solicitudExtController.solicitudArriboSobrevuelo.arsvEstadoSolicitud.descripcion}" readonly="true"/>
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel value="Fecha Solicitud"/>
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="FechaSolicitud" value="#{solicitudExtController.solicitudArriboSobrevuelo.fechaCreacion}" readonly="true">
								<f:convertDateTime pattern="dd/MM/yyyy"/>
							</p:inputText>
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
			
			<br/>
			<p:fieldset legend="#{bundles.solicitudArsv['fieldset.esp.arsv.datosOperador']}">
				<h:panelGrid columns="2" width="700px">
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.nombreEmpresa']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.nombreEmpresa']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="nombreEmpresaArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.nombreEmpresa}"
							maxlength="50" size="50" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.direccion']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.direccion']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="direccionArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.direccion}"
							maxlength="50" size="50" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.direccionFacturacion']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.direccionFacturacion']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="direccionFacturacionArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.direccionFacturacion}"
							maxlength="50" size="50" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.razonSocial']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.razonSocial']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="razonSocialArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.razonSocial}"
							maxlength="50" size="50" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.correoElectronicoOperador']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.correoElectronicoOperador']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="correoElectronicoOperadorArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.correoElectronicoOperador}"
							maxlength="50" size="50" readonly="true"/>
					</h:panelGroup>
				</h:panelGrid>
			</p:fieldset>
			<br/>
			<p:fieldset legend="#{bundles.solicitudArsv['fieldset.esp.arsv.datosAeronave']}">
				<h:panelGrid columns="4" width="700">
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.matriculaAeronave']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.matriculaAeronave']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="matriculaAeronaveArsvExt"
								value="#{solicitudExtController.solicitudArriboSobrevuelo.sacAeronave}"
								maxlength="50" size="25" readonly="true" />
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.nacionalidad']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.nacionalidad']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="paisAeronaveArsvExt"
								value="#{solicitudExtController.solicitudArriboSobrevuelo.paisAeronave.descripcion}"
								maxlength="50" size="25" readonly="true" />
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.tipoAeronave']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.tipoAeronave']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="arsvTipoAeronaveArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.aeronave.tipo}"
							maxlength="50" size="25" readonly="true" />
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.mTOW']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.mTOW']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup >
						<br />
						<h:panelGrid columns="2" width="70">
						<p:inputText id="MTOWArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.MTOW}" maxlength="50"
							size="15"  readonly="true"/>
						<p:inputText id="arsvUnidadPesoExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.unidadPeso.codigo}"
							style="width:50px" readonly="true"/>	
						</h:panelGrid>					
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.nombrePiloto']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.nombrePiloto']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="nombrePilotoArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.nombrePiloto}"
							maxlength="50" size="25" readonly="true"/>
					</h:panelGroup>
				</h:panelGrid>
			</p:fieldset>
			<br/>
			<p:fieldset legend="#{bundles.solicitudArsv['fieldset.esp.arsv.datosVuelo']}">
				<h:panelGrid columns="4" width="800">
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.objetoVuelo']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.objetoVuelo']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="objetoVueloArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.objetoVuelo.codigo}"
							style="width:185px" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.clasificacionVuelo']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.clasificacionVuelo']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="arsvClasificacionArsvExt" 
							value="#{solicitudExtController.solicitudArriboSobrevuelo.clasificacion.codigo}"
							style="width:185px" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.paisOrigen']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.paisOrigen']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="arsvPaisOrigenArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.paisOrigen.id}"
							style="width:185px" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.OACI']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.OACI']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="arsvOACIArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.arsvOACI.codigo}"
							style="width:185px" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.callSign']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.callSign']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="callSignArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.callSign}"
							maxlength="10" size="25" readonly="true"/>
					</h:panelGroup>
				</h:panelGrid>
				<br />
				<h:panelGrid columns="2" width="800">
					<h:panelGroup>
						<p:fieldset id="detalleRutaArsv1Ext"  legend="#{bundles.solicitudArsv['fieldset.esp.arsv.detalleRutas']}">
							<p:dataTable id="detalleNArsv1Ext" var="det"
								value="#{solicitudExtController.rutaPrincipal}">
								<p:column headerText=" " style="width:25%">
									<h:outputText value="#{det.tipoRuta}" />
								</p:column>
								<p:column headerText="#{bundles.solicitudArsv['column.esp.arsv.posta']}" style="width:75%">
									<h:outputText value="#{det.posta}" />
								</p:column>
							</p:dataTable>
							<br />
							<br/>
						</p:fieldset>
					</h:panelGroup>
					<h:panelGroup>
						<p:fieldset id="detalleRutaArsvAlternativaExt" legend="#{bundles.solicitudArsv['fieldset.esp.arsv.detalleRutaAlternativa']}">
							<p:dataTable id="detalleNArsvAlternativaExt" var="det"
								value="#{solicitudExtController.rutaAlternativa}">
								<p:column headerText=" " style="width:25%">
									<h:outputText value="#{det.tipoRuta}" />
								</p:column>
								<p:column headerText="#{bundles.solicitudArsv['column.esp.arsv.posta']}" style="width:75%">
									<h:outputText value="#{det.posta}" />
								</p:column>
							</p:dataTable>
							<br />
							<br/>
						</p:fieldset>
					</h:panelGroup>
				</h:panelGrid>
				<br/>
				<p:fieldset legend="#{bundles.solicitudArsv['fieldset.esp.arsv.fecha']}">
					<h:panelGrid columns="4" width="600">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.solicitudArsv['outputLabel.esp.arsv.arriboTerritorioNacional']}" />
							<br />
							<p:outputLabel
								value="#{bundles.solicitudArsv['outputLabel.eng.arsv.arriboTerritorioNacional']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="arriboTerritorioNacionalArsvExt"
								value="#{solicitudExtController.solicitudArriboSobrevuelo.fechaArribo}"
								 size="25" readonly="true" >
								<f:convertDateTime pattern="dd/MM/yyyy hh:mm"/>
								</p:inputText>
						</h:panelGroup>
						<h:panelGroup>
							<h:outputLabel value="#{bundles.solicitudArsv['outputLabel.esp.arsv.mensaje']}" />
					    </h:panelGroup>
					    <h:panelGroup></h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.solicitudArsv['outputLabel.esp.arsv.salidaTerritorioNacional']}" />
							<br />
							<p:outputLabel
								value="#{bundles.solicitudArsv['outputLabel.eng.arsv.salidaTerritorioNacional']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="salidaTerritorioNacionalArsvExt"
								value="#{solicitudExtController.solicitudArriboSobrevuelo.fechaSalida}"
								size="25" readonly="true" >
								<f:convertDateTime pattern="dd/MM/yyyy hh:mm"/>
							</p:inputText>
						</h:panelGroup>
						<h:panelGroup>
					    	<h:outputLabel value="#{bundles.solicitudArsv['outputLabel.eng.arsv.mensaje']}" style="color:grey"/>
					    </h:panelGroup>
					    <h:panelGroup></h:panelGroup>
					</h:panelGrid>
					</p:fieldset>
					<br/>
					<h:panelGrid columns="2" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.solicitudArsv['outputLabel.esp.arsv.observacion']}" />
							<br />
							<p:outputLabel
								value="#{bundles.solicitudArsv['outputLabel.eng.arsv.observacion']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputTextarea id="observacionArsvExt"
								value="#{solicitudExtController.solicitudArriboSobrevuelo.observaciones}"
								maxlength="5000" size="5000"  readonly="true"
								style="height : 150px; width : 600px;"/>
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<br/>
			<p:fieldset legend="#{bundles.solicitudArsv['fieldset.esp.arsv.vueloComercial']}">
				<h:panelGrid columns="2" width="600">
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.validezSeguro']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.validezSeguro']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="validezSeguroArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.vigenciaSeguro}"
							size="25" readonly="true" >
							<f:convertDateTime pattern="dd/MM/yyyy"/>
							</p:inputText>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.cantidadVuelos']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.cantidadVuelos']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="cantidadVuelosArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.cantidadVuelos}"
							maxlength="50" size="25" readonly="true"/>
					</h:panelGroup>
				</h:panelGrid>
			</p:fieldset>
			<br/>
			<p:fieldset legend="#{bundles.solicitudArsv['fieldset.esp.arsv.transporteCarga']}">
				<h:panelGrid columns="2" width="700">
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.embarcador']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.embarcador']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="embarcadorArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.embarcador}"
							maxlength="50" size="25" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.consignatario']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.consignatario']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="consignatarioArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.consignatario}"
							maxlength="50" size="25" readonly="true"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.esp.arsv.correoElectronico']}" />
						<br />
						<p:outputLabel
							value="#{bundles.solicitudArsv['outputLabel.eng.arsv.correoElectronico']}"
							style="color:grey" />
					</h:panelGroup>
					<h:panelGroup>
						<p:inputText id="correoElectronicoArsvExt"
							value="#{solicitudExtController.solicitudArriboSobrevuelo.correoElectronico}"
							maxlength="50" size="25"  readonly="true"/>
					</h:panelGroup>
				</h:panelGrid>
			</p:fieldset>				
				<br />
				<p:fieldset legend="Datos a Ingresar" >
					<h:panelGrid columns="4" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.extPerm.diasExtension']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.diasExtension']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputText id="diasExtPerm"
								value="#{solicitudExtController.solicitudExt.cantidadDias}"
								maxlength="50" size="25" readonly="true"/>
							<br />
							<p:message for="diasExtPerm" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.extPerm.motivoExtension']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.motivoExtension']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
						<p:inputText id="motivoExt"
								value="#{solicitudExtController.solicitudExt.arsvMotivoExtension.descripcion}"
								maxlength="50" size="25" readonly="true"/>
						<p:message for="motivoExt" />
						</h:panelGroup>
					</h:panelGrid>
					<br/>
					<h:panelGrid columns="2" width="800">
						<h:panelGroup>
							<p:outputLabel
								value="#{bundles.LabelMessages['label.esp.solicitud.extPerm.detalle']}" />
							<br />
							<p:outputLabel
								value="#{bundles.LabelMessages['label.eng.solicitud.extPerm.detalle']}"
								style="color:grey" />
						</h:panelGroup>
						<h:panelGroup>
							<p:inputTextarea id="detalleExt"
								value="#{solicitudExtController.solicitudExt.motivo}"
								maxlength="2000" size="2000" readonly="true"
								style="height : 150px; width : 750px;"/>
							<p:message for="detalleExt" />
						</h:panelGroup>
					</h:panelGrid>
				</p:fieldset>
				<br/>
				<p:fieldset id="fieldDSO" legend="DSO" rendered="#{solicitudExtController.renderDSO}">
					<p:selectBooleanCheckbox id="checkDso" value="#{solicitudExtController.solicitudExt.dsoInformado}" itemLabel="Seleccione si se ha consultado a DSO"  
						  validatorMessage="Debe seleccionar para informar que se consulto a DSO" validator="checkboxValidator" >  
					</p:selectBooleanCheckbox>
					<p:message for="checkDso" />
				</p:fieldset>
				<br/>
				<center>		
				<h:panelGrid columns="2" width="800">				
					<p:commandButton id="aprobar"  value="Aprobar"  action="#{solicitudExtController.aprobarExt}" ajax="false" rendered="#{solicitudExtController.renderBtnAprovar}" style="width:380px;" />
					<p:commandButton id="salir" value="Salir" onclick="window.close();" style="width:380px; "/>
				</h:panelGrid>		
				</center>		
							
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>